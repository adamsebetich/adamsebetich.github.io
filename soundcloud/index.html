<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="Page Icon" type="png" href="soundcloud.png">

  <title>SoundCloud Example</title>
  
  <!-- bootstrap -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css"/>
  <link rel="stylesheet" href="css/main.css"/>

  <!-- include libraries -->
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.min.js"></script>
  <script src="js/app.js"></script>

</head>
<body>
  <div class="container" ng-app="myApp" ng-controller="MyCtrl"> <!-- specify app -->

    <form name="trackForm" ng-repeat"track in tracks">
      <div class="form-group">
        <!-- this name portion requires the user to type in some sort of name before they can search anything -->
        <label for="name">Name: <font color="red">REQUIRED</font></label>
        <input type="text" name="name" id="name" class="form-control" ng-minlength="3" ng-model="name" required>
        <p ng-show="!trackForm.name.$pristine && trackForm.name.$invalid"class="help-block">ENTER A NAME!!!</p> <!--If they delete their name, it will prompt them "ENTER A NAME!!!" to make sure they type something-->
      </div>
      <!-- This is an optional email they can enter-->
      <div class="form-group" ng-class="{'has-error': trackForm.email.$invalid}">
        <label for="email">Email: <font color="red">OPTIONAL</font></label>
        <input type="email" name="email" id="email" class="form-control" ng-model="email">
      </div>     
      <div class="form-group">
        <label>SoundCLOUD LookUp</label>
      </div>
        <!-- bind the search term to the controller -->
        <input name="search" placeholder="Search for a track..." type="text" ng-model="query" ng-keyup="getTracks()" ng-show="!trackForm.name.$invalid" class="form-control"></input>       
        <table class="table">
          <tr>
            <th><a href="" ng-click="sortBy = 'title'">Title</a></th>
            <th>Artist</th>
            <th><a href="" ng-click="sortBy = 'playback_count'">Number of Hits</a> </th> 
            <th>Genre</th>
            <th>Image</th>
          </tr>
         <!-- This is my example so they understand how it looks -->
          <tr>
            <td>Example Song</td>
            <td>Adam Sebetich</td>
            <td>1000000000</td>
            <td>Hardcore Death Jazz</td>
            <td><img src="adam.jpg" alt="Picture" style="width:100px;height:100px;"></td>            
          </tr> 
          <!-- The user must enter a name that is at least 3 characters long for them to be allowed search for songs -->
          <tr ng-repeat="track in tracks | orderBy:sortBy | filter:query" ng-show="!myForm.lastName.$error.minlength">
              <p>Tracks found:</p>
              <td><a href={{track.permalink_url}}>{{track.title}}</a></td>  
              <td>{{track.user.username}}</td>
              <td>{{track.playback_count}}</td>
              <td>{{track.genre}}</td>
              <td><img src={{track.artwork_url}} alt="Picture" style="width:100%;height:100%;"></td>
          </tr>
        </table>
      </div>
    </form>     
  </div> <!-- end container -->
</body>
</html>